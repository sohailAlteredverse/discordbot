"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AudioEvent = void 0;
class AudioEvent {
    constructor({ chunk, additionalPhonemeInfo, }) {
        this.chunk = chunk;
        if (additionalPhonemeInfo === null || additionalPhonemeInfo === void 0 ? void 0 : additionalPhonemeInfo.length) {
            this.additionalPhonemeInfo = additionalPhonemeInfo;
        }
    }
    static fromProto(proto) {
        return new AudioEvent({
            chunk: proto.getChunk_asB64(),
            additionalPhonemeInfo: proto.getAdditionalPhonemeInfoList().map((info) => ({
                phoneme: info.getPhoneme(),
                startOffsetS: this.durationToSeconds(info.getStartOffset()),
            })),
        });
    }
    static durationToSeconds(duration) {
        return duration.getSeconds() + duration.getNanos() / 1000000000;
    }
}
exports.AudioEvent = AudioEvent;
